(window.webpackJsonp=window.webpackJsonp||[]).push([[266],{727:function(s,t,a){"use strict";a.r(t);var e=a(1),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"聚集索引和非聚集索引的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#聚集索引和非聚集索引的区别"}},[s._v("#")]),s._v(" 聚集索引和非聚集索引的区别？")]),s._v(" "),t("p",[s._v("聚集索引数据行的物理顺序与列值（一般指的是主键所在的列）的逻辑顺序相同，聚集索引一般来说只有一个")]),s._v(" "),t("p",[s._v("聚集索引的叶子节点就是对应的数据节点，聚集索引的查找速度快，但是由于聚集索引需要维护物理顺序与逻辑顺序的一致性，所以聚集索引的插入效率较低。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/6a23034d014142f39ae87df3c74b0b01.png",alt:"在这里插入图片描述"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/3ca8ceee14d741c9bfd7019f5abd8bf6.png",alt:"在这里插入图片描述"}})]),s._v(" "),t("p",[s._v("非聚集索引逻辑顺序与磁盘上的物理存储顺序不相同，一个表中可以存在多个非聚集索引。")]),s._v(" "),t("p",[s._v("非聚集索引的叶子节点仍然是索引节点，只是有一个指针指向对应的数据块，如果使用非聚集索引查询，而查询列包含了其他该索引未覆盖的列，那么他还要进行二次查询，查询节点上对应的数据行的数据。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/5b4fc95a29b8494ea7709e42ff948dc0.png",alt:"在这里插入图片描述"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/0fdd9ca0776540b9bad6200daa710236.png",alt:"在这里插入图片描述"}})]),s._v(" "),t("p",[s._v("以下语句查询时，不需要二次查询：")]),s._v(" "),t("p",[s._v("因为下面语句查询的字段中没有该非聚集索引没有覆盖的字段")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小明'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小明'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("以下语句查询时，需要进行二次查询")]),s._v(" "),t("p",[s._v("因为下面语句查询时，score是非聚集索引没有覆盖的字段")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小明'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);