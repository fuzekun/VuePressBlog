(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{718:function(t,e,a){"use strict";a.r(e);var r=a(1),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"_1-防止sql攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-防止sql攻击"}},[t._v("#")]),t._v(" （1）防止SQL攻击")]),t._v(" "),e("p",[t._v("过滤用户输入的数据中是否含有非法字符；\n分步检验：先使用用户名来查询用户，如果找到了再比较用户密码；")]),t._v(" "),e("h3",{attrs:{id:"sql注入问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql注入问题"}},[t._v("#")]),t._v(" SQL注入问题")]),t._v(" "),e("p",[t._v("在拼接SQL时，有一些SQL的特殊关键字参与字符串的拼接。会造成安全性问题。")]),t._v(" "),e("p",[t._v("1.随便输入用户名 输入密码：a'or 'a' ='a’")]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sql")]),t._v("："),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" username "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ‘fhdsjkf’ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v("  ‘password’ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ‘a’ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("or")]),t._v(" ‘a’ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ‘a’\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("这样进行拼接之后是一个恒为true的查询条件，所以会引发安全问题。\n静态的sql在sql语句写出时，就已经拼接好成了一个完整的SQL语句对应的字符串，所以会出现SQL注入问题\n使用PreparedStatement；")]),t._v(" "),e("h2",{attrs:{id:"_2-preparedstatement是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-preparedstatement是什么"}},[t._v("#")]),t._v(" （2）PreparedStatement是什么？")]),t._v(" "),e("p",[t._v("PreparedStatement叫做预编译声明；\nPreparedStatement是Statement的子接口，你可以使用PreparedStatement来替换Statement")]),t._v(" "),e("h2",{attrs:{id:"_3-preparedstatement的好处"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-preparedstatement的好处"}},[t._v("#")]),t._v(" （3）PreparedStatement的好处：")]),t._v(" "),e("p",[t._v("防止SQL攻击；\n提高代码的可读性，和可维护性；\n提高效率；")]),t._v(" "),e("h2",{attrs:{id:"_4-preparedstatement的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-preparedstatement的使用"}},[t._v("#")]),t._v(" （4）PreparedStatement的使用")]),t._v(" "),e("p",[t._v("使用Connection的PreparedStatement(String sql)：即创建它时就让它与一条SQL模板绑定；\n调用PreparedStatement的setXXX()系列的方法为问号（占位符）设置值；\n调用executeUpdate()或executeQuery()方法；")])])}),[],!1,null,null,null);e.default=s.exports}}]);